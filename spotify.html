<!DOCTYPE html>
<html lang="en">
<head>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif}
.w3-bar,h1,button {font-family: "Montserrat", sans-serif}
.fa-anchor,.fa-coffee {font-size:200px}
</style>
</head>
<body>

<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-teal w3-card w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-teal" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
    <a href="index.html" class="w3-bar-item w3-button w3-padding-large w3-white">Home</a>
  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
  </div>
</div>

<style>
    img {
      border-radius: 50%;
    }
</style>

<!-- Header -->
<header class="w3-container w3-teal w3-center" style="padding:128px 16px">
  <img src="images/thumbs/02.jpg", alt=" "  style="width:350px"/></a>
  <h1 class="w3-margin w3-jumbo">Spotify Platform Analysis</h1>
  <p class="w3-xlarge">Inside Look into One of the World's Largest Music Streaming Providers</p>
</header>

<!-- First Grid -->
<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-twothird">
      </h5>

        <h1>Business Case</h1>
        <h5 class="w3-text-dark-grey"> Spotify is one of the largest music streaming service providers, with over 456 million monthly users as of 
          September 2022. Spotify would like to know what are the key components of a song that determines its popularity on its platform.
          </h5>
        </h5>

        <h1>Objective</h1>
        <h5 class="w3-text-dark-grey">This project will demonstrate exploratory data analysis done with Python to analyze, visualize, and draw insights from Python libraries (NumPy, Pandas, Matplotlib, Seaborn).
          We will analyse the components on the most popular tracks from 1922 to 2021 to be able to predict the popularity of future songs. 
        </h5>
  

        <h1>Tools and Techniques Used</h1>
        <h5 class="w3-text-dark-grey">
            • <strong>Programming Language:</strong> Python <br>
            • <strong>Methods for Variable Selection:</strong> LASSO Regression and Variable Inflation Factor<br>
        </h5>
      </div>
    </div>

    <div class="w3-third w3-center">
      <img src="code/spotify.png" style="border-radius: 10%; margin-top: 10px; width:100%">
    </div>
  </div>
</div>

<!--<head>
  <style>
  * {
    box-sizing: border-box;
  }
  
  .column {
    float: left;
    width: 50%;
    padding: 5px;
  }
  
  /* Clearfix (clear floats) */
  .row::after {
    content: "";
    clear: both;
    display: table;
  }
  </style>
  </head>
-->

<!-- Second Grid -->
<div class="w3-row-padding w3-light-grey w3-padding-64 w3-container">
    <div class="w3-content">
      <div class="w3-third w3-center">
      </div>
  
      <style>
        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          width: 100%;
        }
        
        td, th {
          border: 1px solid #dddddd;
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #dddddd;
        }
        </style>
        </head>
        <body>
        
        <h2>Dataset Variables</h2>
        
        <a href="code/tracks.csv" >Spotify Popular Tracks Dataset</a><br>

        <table>
          <tr>
            <th>Variables</th>
            <th>Description</th>
            <th>Data Type</th>
          </tr>
          <tr>
            <td>id</td>
            <td>Unique ID of each observation</td>
            <td>Object</td>
          </tr>
          <tr>
            <td>name</td>
            <td>Name of popular Spotify track</td>
            <td>Object</td>
          </tr>
          <tr>
            <td>popularity</td>
            <td>Ratings from listeners based mainly from number of playbacks, where 0 means least popular and 100 means most popular</td>
            <td>Integer</td>
          </tr>
          <tr>
            <td>duration_ms</td>
            <td>Duration of the track in milliseconds </td>
            <td>Integer</td>
          </tr>
          <tr>
            <td>explicit</td>
            <td>Labeled as such when lyrics or contents of song that is generally deemed as sexual, violent, or offensive in nature </td>
            <td>Integer</td>
          </tr>
          <tr>
            <td>artists</td>
            <td>Name of artist(s) of the track</td>
            <td>Object</td>
          </tr>
          <tr>
            <td>id_artists</td>
            <td>Identification number assigned to the corresponding artist</td>
            <td>Object</td>
          </tr>
          <tr>
            <td>release_date</td>
            <td>Year the track was released</td>
            <td>Numeric</td>
          </tr>
          <tr>
            <td>danceability</td>
            <td>Criteria that describes how suitable a track is for dancing based on musical elements including
              tempo, rhythm stability, beat strength and overall regularity, where 0.0 is the least danceable and 1.0 is the most danceable
            </td>
            <td>Float</td>
          </tr>
          <tr>
            <td>energy</td>
            <td>A measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity</td>
            <td>Float</td>
          </tr>
          <tr>
            <td>key</td>
            <td>The estimated overall key of the track. Integers map to pitches using standard Pitch Class notation.
               E.g. 0 = C, 1 = C♯/D♭, 2 = D, and so on. If no key was detected, the value is -1</td>
            <td>Integer</td>
          </tr>
          <tr>
            <td>loudness</td>
            <td>The overall loudness of a track in decibels (dB), where the typical range is between -60 and 0 dB</td>
            <td>Float</td>
          </tr>
          <tr>
            <td>mode</td>
            <td>Indicates the modality of a track (minor or major), from which the type of scale of the melodic content is derived from. Major is 1 and minor is 0</td>
            <td>Integer</td>
          </tr>
          <tr>
            <td>speechiness</td>
            <td>Detects the presence of spoken words in a track where values above 0.66 represent more speechy tracks and values below 0.33 represent more non-speech-like tracks</td>
            <td>Float</td>
          </tr>
          <tr>
            <td>acousticness</td>
            <td>Confidence measure from 0.0 to 1.0 of whether the track is acoustic where 1.0 indicates high confidence the track is acoustic</td>
            <td>Float</td>
          </tr>
          <tr>
            <td>instrumentalness</td>
            <td>Predicts where a track contains vocals, where 0.0 means that the track is likely vocal and 1.0 is likely contains no vocal content</td>
            <td>Numeric</td>
          </tr>
          <tr>
            <td>liveness</td>
            <td>Detects the presence of an audience in the recording. Higher liveness values represents an increased probability that the track was performed live</td>
            <td>Float</td>
          </tr>
          <tr>
            <td>valence</td>
            <td>Measures the positivity of a song, where 0 means low valence and 1.0 means high valence</td>
            <td>Float</td>
          </tr>
          <tr>
            <td>tempo</td>
            <td>Overall estimated tempo of a track in beats per minute (BPM)</td>
            <td>Float</td>
          </tr>
          <tr>
            <td>time_signature</td>
            <td>Estimated overall time signature of a track where the number of beats in each bar is specified</td>
            <td>Integer</td>
          </tr>
        </table> <br><br>



        <h1>Cleaning Data</h1>
        <h5>Before we can explore this dataset, we have to make sure the data is clean. First, we will identify the null values present in the given dataset.</h5><br>
          <img src="spotify/null.png" alt="null" style="border-radius: 5%; margin-top: 10px; width:80%"><br><br>

          <h5>The null values will be dropped since we cannot verify the missing title of the track. Here is the overview of the dataset now.</h5><br>
          <img src="spotify/info.png" alt="info" style="border-radius: 5%; margin-top: 10px; width:80%"><br><br>

          

          <h1>Understanding the Data</h1>
          <h5><strong>What are the most popular tracks on Spotify? </strong> </h5>
          <h5> Based on the observation from below, we can see the top 10 songs from the Spotify dataset with "Peaches" by Daniel Caesar and Giveon being the most popular.</h5>
          <img src="spotify/code_pop.png" alt="code_pop" style="border-radius: 5%; margin-top: 10px; width:100%"><br><br>
          <img src="spotify/pop.png" alt="pop" style="border-radius: 3%; margin-top: 10px; width:100%"><br><br>

          <h5>As far as the <strong>least popular </strong>, the songs among the lowest are "Lady of the Evening" by Dick Haymes and "White Bay" by ArtLec.</h5><br>
          <img src="spotify/leastpop.png" alt="leastpop" style="border-radius: 3%; margin-top: 10px; width:100%"><br><br>


          <h5>The following <strong>price density plot </strong> allows us to see where the prices generally lie among the car makes. The plot shows that the prices are <strong>positively skewed</strong>. These kind of distributions are right-skewed, where probabilities diminish the higher the price. </h5>
          <img src="code/pricedensityplot.jpg" alt="pricedensity" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>

          <img src="code/priceplot.jpg" alt="priceplot" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>

          <h5>The following <strong> Price Box Plot </strong> allows us to see where the price range of each car make. In conclusion, the lowest priced car is the <strong>Subaru Hatchback ($5,118)</strong>, the highest priced car is the 
          <strong>Buick Regal Sport Coupe ($45,400)</strong> and the median price of the overall dataset is <strong>$10,295</strong>.</h5>
          <img src="code/priceboxplot.jpg" alt="priceboxplot" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>

          </h5>
            
          <h1> Observing the Categorical Variables</h1>
          <h5> The boxplots below show how each categorical value ranges in price. This is used to demonstrate its significance to the overall dataset.
            We can observe the following: RWD Drive Wheels, 8-cylinder vehicles, and engines located in the rear end of the car (common among sport and luxury cars) tend to be priced higher while the number of doors on a car doesn't make much of a price difference.
          </h5>
          <img src="code/Row1.jpg" alt="row1boxplot" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>
          <img src="code/Row2.jpg" alt="row2boxplot" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>
          <img src="code/Row3.jpg" alt="row3boxplot" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>


      </div>
    </div>
  </div>
  

<!-- Third Grid -->
<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-third w3-center">
    </div>
               <h1>Building a Regression Model</h1>
    <h5>  In the given dataset, we have a total of 205 observations. The first 165 observations of the dataset will be used for the training set. <strong>Training sets</strong> are normally used to 
        train machine learning models from the data given. To judge the predictive performance 
        of the selected model, we will hold the last 40 observations from the data set as the test set. The <strong>test set</strong>
        will be used to estimate the prediction error of the model. 

    </h5>
    <h1>Strong Correlation with Price</h1>
    <h5> The heat map illustrates both negative and positive correlation between the independent variables with price, the dependent variable.
      <img src="code/corrcode.jpg" alt="corrcode" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>
      <img src="code/heatmapcorr.jpg" alt="heatmap" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>
    </h5>

      From this map, we can observe that the top variables with strong correlations are the following:
      highwaympg, citympg, horsepower, boreratio, enginesize, curbweight, carwidth, carlength, and wheelbase. 

      <h1>Variable Selection</h1>

      First, we want to identify if multicollinearity exists among the car variables. <strong>Multicollinearity</strong> is a statistical concept where several independent variables in a model
      are correlated. This becomes an issue because it leads to an unreliable regression model.<br> Variance Inflation Factor (VIF) in R was used to address this multicollinearity issue and is used
      to identify the variance of a regression coefficient inflated. Due to this, we are left with the following variables: highwaympg, boreratio, enginesize, carwidth and wheelbase.


      <h5>Second method used was <strong>LASSO Regression Analysis</strong>. This regression was used to determine the variables with the most significance
      from the list of variables with strong correlation with price. LASSO (short for Least Absolute Skrinkage and Selection Operator) shrinks insignificant regression coefficients
      down to zero, leaving non-zero values to be selected for the final data model.
    
    
      The <strong>final model</strong> selects the following variables:</strong></h5>
        • <strong>Highway MPG:</strong> the average a car will get while driving on an open stretch of road without stopping or starting, typically at a higher speed. In general, cars with a higher Highway MPG tend to be priced lower meaning they're more fuel-efficient. <br>
        • <strong>Engine Size:</strong> the volume of fuel and air that can be pushed through a car's cylinders and measured in cubic centimeters. Because of this, the larger the engine size, the higher priced the car is. <br>
        • <strong>Car Make and Model:</strong> branding also makes a difference in pricing. Luxury and sports cars tend to be marketed as more sophisticated, therefore higher priced.

        Due to the summary of the final model, the adjusted R-Squared is 0.82. This means that the model is <strong>82%</strong> of variance, indicated the model is a good fit.

        <h1>Model Validation</h1>

        The test set was then used to predict the Y-values: <br>
        <img src="code/pred.jpg" alt="pred" style="border-radius: 0%; margin-top: 10px; width:100%"><br><br>

        The Mean-Squared Error (MSE) was calculated and falls at 22%. This demonstrates the amount of error in the final model.

          <h1>Recommendations</h1>
          <h5> Geely Auto should take the selected variables as top priority when considering what kind of vehicles to have on the lot. It would be beneficial for the dealership to have a bit of range in regards to the type of car being offered. 
            However, it may be best to have majority of cars on the affordable side of the price range in order to accomodate to the cars on demand for the general public. Geely should also keep in mind that the median price of cars are $10,295 and a popular car in the US are the Toyota model. </h5>
    
      </div>
  

    </div>
  </div>
  


<div class="w3-container w3-black w3-center w3-opacity w3-padding-64">
    <h1 class="w3-margin w3-xlarge">"The mind that opens to a new idea never returns to its original size."</h1>
</div>


<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
  var x = document.getElementById("navDemo");
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else { 
    x.className = x.className.replace(" w3-show", "");
  }
}
</script>

</body>
</html>
